# 常用的`Linux`命令

`Linux`命名格式：命令名称 [命令参数] [命令对象] -- 命令名称、命令参数、命令对象之间用空格键分隔

- `man` -- 查看帮助
- `echo` -- 在终端输出字符串或变量提取后的值 -- `echo [字符串 | $变量]`
  
  ```shell
  echo $SHELL
  /bin/bash
  ```

- `date` -- 用于显示及设置系统的时间或日期 -- `date [选项] [+指定格式]`
  
  ```shell
  date
  2019年 5月27日 星期一 09时55分06秒 CST
  date "+%Y-%m-%d %H:%M:%S"
  2019-05-27 09:57:25
  ```
  可以把备份数据的命令与指定格式输出的时间信息结合在一起

- `reboot` -- 用于重启系统
- `poweroff` -- 用于关闭系统
- `wget` -- 用于在终端中下载网络文件 -- `wget [参数] 下载地址`
  - `-b` -- 后台下载模式
  - `-P` -- 下载到指定目录
  - `-t` -- 最大尝试次数
  - `-c` -- 断电续传
  - `-p` -- 下载页面内所有资源，包括图片，视频等 
  - `-r` -- 递归下载
- `ps` -- 查看系统中的进程状态 -- `ps [参数]`
  - `-a` -- 显示所有进程（包括其他用户的进程）
  - `-u` -- 用户以及其他详细信息
  - `-x` -- 显示没有控制终端的进程
  - 进程状态：
    - `R` -- 运行 -- 进程正在运行或在运行队列中等待
    - `S` -- 中断 -- 进程处于休眠中，当某个条件形成后或者接收到信号时，则脱离该状态
    - `D` -- 不可中断 -- 进程不响应系统异步信号，即使用`kill`命令也不能将其中断
    - `Z` -- 僵死 -- 进程已经终止，但进程描述符依然存在，直到父进程调用`wait4()`系统函数后将进程释放
    - `T` -- 停止 -- 进程收到停止信号后停止运行
- `top` -- 用于动态地监视进程活动与系统的负载信息
- `pidof` -- 查询某个指定服务进程的`PID`值 -- `pidof [参数] [服务名称]`
- `kill` -- 用于终止某个指定`PID`的服务进程 -- `kill [参数] [进程PID]`
- `killall` -- 用于终止某个指定名称的服务所对应的全部进程 -- `killall [参数] [进程名称]`



### 系统状态检测命令

- `ifconfig` -- 获取网卡配置与网络状态等信息 -- `ifconfig [网络设备] [参数]`
- `uname` -- 查看系统内核与系统版本等信息 -- `uname [-a]`
- `uptime` -- 查看系统负载信息
- `free` -- 显示当前系统中内存的使用量信息 -- `free [-h]`
- `who` -- 查看当前登入主机的用户终端信息 -- `who [参数]`
- `last` -- 查看本机的登录信息 -- `history [-c]`
- `sosreport` -- 收集系统配置以及架构信息并输出诊断文档

### 工作目录切换命令

- `pwd` -- 显示用户当前所处的工作目录
- `cd` -- 切换工作路径 -- `cd [目录名称]`
  - `cd -` -- 返回上一次所处的目录
- `ls` -- 显示目录中的文件信息 -- `ls [选项] [文件]`
  - `-a` -- 查看所有文件，包括隐藏文件
  - `-l` -- 查看文件的属性以及大小等详细信息
  - `-d` -- 查看目录属性信息

### 文本文件编辑命令

- `cat` -- 查看纯文本文件（内容较少） -- `cat [选项] 文件`
- `more` -- 查看存文件文件（内容较多） -- `more [选择] 文件` -- 翻页：`shift + pageUp/shift + pageDown`
- `head` -- 查看纯文本文档的前`n`行
- `tail` -- 查看纯文本文档的后`n`行或持续刷新内容
  - `tail -f 文件名` -- 持续刷新文件内容
- `tr` -- 用于替换文本文件中的字符 -- `tr [原始字符] [目标字符]`
  - `cat [文件] | tr [原始字符] [目标字符]` -- 使用`cat`读取待处理的文本，然后通过管道符将文本内容传递给`tr`命令进行替换操作(原始文件未改变)
- `wc` -- 用于统计指定文本的行数、字数、字节数 -- `wc [参数] 文本`
- `stat` -- 查看文件的具体存储信息和时间等信息 -- `stat 文件名称`
- `cut` -- 用于按"列"提取文本字符 -- `cut [参数] 文本`
  - `-d` -- 指定分隔符
  - `-f` -- 指定列数
- `diff` -- 比较多个文本文件的差异 -- `diff [参数] 文件`
- `awk` -- 在文件或者字符串中基于指定规则浏览和抽取信息 -- `awk '{pattern + action}' {filenames}`

### 文件目录管理命令

- `touch` -- 创建空白文件或设置文件时间 -- `touch [选项] [文件]`
  - `-a` -- 仅修改读取时间
  - `-m` -- 仅修改修改时间
  - `-d` -- 同时修改读取时间与修改时间
  
    ```s
    [root@izm5e3ysu09m3fsttcfydjz ~]# ls -l index.html
    -rw-r--r-- 1 root root 230 5月  29 09:34 index.html
    [root@izm5e3ysu09m3fsttcfydjz ~]# touch -d "2019-4-29 09:34" index.html
    [root@izm5e3ysu09m3fsttcfydjz ~]# ls -l index.html
    -rw-r--r-- 1 root root 230 4月  29 09:34 index.html
    ```

- `mkdir` -- 创建空白目录 -- `mkdir [选项] 目录`
- `cp` -- 复制文件或目录 -- `cp [选项] 源文件 目标文件`
  - `-p` -- 保留原始对象属性
  - `-d` -- 保留链接文件属性
  - `-r` -- 递归复制
  - `-i` -- 询问是否覆盖
- `mv` -- 剪切文件或将文件重命名 -- `mv [选项] 源文件 [目标路径|目标文件名]`(源文件会被删除)
- `rm` -- 删除文件或目录 -- `rm [选项] 文件`
- `dd` -- 按照指定大小和个数的数据块来复制文件的内容，还可以使用该命令来压制出光盘镜像文件
  - `if` -- 输入的文件名称
  - `of` -- 输出的文件名称
  - `bs` -- 设置每个块的大小
  - `count` -- 设置要复制的块的个数
- `file` -- 查看文件类型 -- `file 文件名`

### 打包压缩与搜索命令

- `tar` -- 对文件进行打包压缩或解压 -- `tar [选项] [文件]`
  - `-c` -- 创建压缩文件
  - `-x` -- 解开压缩文件
  - `-t` -- 查看压缩包内有哪些文件
  - `-z` -- 用`Gzip`压缩或解压
  - `-j` -- 用`bzip2`压缩或解压
  - `-v` -- 显示压缩或解压的过程
  - `-f` -- 目标文件名（必须放到参数的最后一位）
  - `-p` -- 保留原始的权限与属性
  - `-P` -- 使用绝对路径来压缩
  - `-C` -- 指定解压到的目录

- `grep` -- 用于在文本中执行关键词搜索，并显示匹配结果 -- `grep [选项] [搜索字符] [文件]`
  - `-b` -- 将可执行文件当做文本文件来搜索
  - `-c` -- 仅显示找到的行数
  - `-i` -- 忽略大小写
  - `-n` -- 显示行号
  - `-v` -- 反向选择 -- 仅列出没有“关键词”的行

- `find` -- 用于按照条件来查找文件 -- `find [查找路径] 寻找条件 操作`
  - `-name` -- 匹配名称
  - `-perm` -- 匹配权限（`mode`为完全匹配，`-mode`为包含）
  - `-user` -- 匹配所有者
  - `-group` -- 匹配所有组
  - `-mtime -n +n` -- 匹配修改内容的时间(`-n`指`n`天以内，`+n`指`n`天以前)
  - `-atime -n +n` -- 匹配访问文件的时间
  - `-ctime -n +n` -- 匹配修改文件权限的时间
  - `-nouser` -- 匹配无所有者的文件
  - `-nogroup` -- 匹配无所有组的文件
  - `--type` -- 匹配文件类型
  - `--size` -- 匹配文件的大小
  - `-prune` -- 忽略某个目录
  - `-exec {} \;` -- 后面可跟用于进一步处理搜索结果的命令, `{}`表示`find`命令搜索出的每一个文件，并且命令的结尾必须是`\;`
    - `find ./ -name "*.html" -exec cp -a {} ./html \;`


## 管道符、重定向与环境变量

### 输入输出重定向
- 输入重定向：把文件导入到命令中
- 输出重定向：把原本要输出到屏幕的数据信息写入到指定文件中
  - 标准输出重定向
  - 错误输出重定向
  - 写入模式
    - 清空
    - 追加

- 标准输入重定向（`STDIN`, 文件描述符为0）：默认从键盘输入，也可从其他文件或命令输入
- 标准输出重定向（`STDOUT`, 文件描述符为1）：默认输出到屏幕
- 错误输出重定向（`STDERR`, 文件描述符为2）：默认输出到屏幕

#### 符号以及作用
- 输入重定向
  - `命令 > 文件`：将文件作为命令的标准输入
  - `命令 << 分界符`：从标准输入中读入，直到遇见分界符才停止
  - `命令 < 文件1 > 文件2`：将文件1作为命令的标准输入并将其标准输出到文件2
- 输出重定向
  - `命令 > 文件`：将标准输出重定向到一个文件中（清空原有文件的数据）
  - `命令2 > 文件`：将错误输出重定向到一个文件中（清空原有文件的数据）
  - `命令 >> 文件`：将标准输出重定向到一个文件中（追加到原有内容的后面）
  - `命令2 >> 文件`：将错误输出重定向到一个文件中（追加到原有内容的后面）
  - `命令 >> 文件2 >&1`或`命令 &>> 文件`：将标准输出与错误输出共同写入到文件中（追加到原有内容后面）

### 管道命令符
管道命令符：把前一个命令原本要输出到屏幕的标准正常数据当做是后一个命令的标准输入

### 命令行的通配符
- `*`：代表匹配零个或多个字符
- `?`：代表匹配单个字符
- `[]`：匹配之间的单个字符

### 常用的转义字符
- 反斜杠`\`：使反斜杠后面的一个变量变为单纯的字符串
- 单引号`"`：转义其中所有的变量为单纯的字符串
- 双引号`""`：保留其中的变量属性，不进行转义
- 反引号：把其中的命令执行后返回结果

```
 PRICE=5
 echo 'Price is $PRICE' // Price is $PRICE
 echo "Price is $PRICE" // Price is 5
 echo "Price is \$PRICE" // Price is $PRICE
 echo "Price is $$PRICE" // Price is 4712PRICE: $$显示当前程序的进程ID
 echo "Price is \$$PRICE" // Price is $5
```

### 环境变量
`Linux`系统中的环境变量是用来定义系统运行环境的一些参数

`Linux`作为一个多用户多任务的操作系统，能够为每个用户提供独立的、合适的工作运行环境。所以，一个相同的环境变量会因为用户不同的身份而具有不同的值

- `export`: 将变量提升为全局变量，所有用户都可以使用